@media only screen and (max-device-width: 480px) {
    :root {
        --pst-font-size-base: 15px;

         /* heading font sizes */
         --pst-font-size-h1: 24px;
         --pst-font-size-h2: 20px;
         --pst-font-size-h3: 16px;
         --pst-font-size-h4: 15px;
         --pst-font-size-h5: 15px;
         --pst-font-size-h6: 15px;
    }
}

/* Calculator mobile optimizations */
@media only screen and (max-width: 768px) {
    /* Reduce font sizes for better spacing */
    .calculator-ui {
        padding: 8px;
        max-width: 100%;
        box-sizing: border-box;
        overflow-x: hidden; /* Prevent horizontal scroll */
    }
    
    .calculator-ui h2 {
        font-size: 18px;
        margin-bottom: 8px;
    }
    
    .calculator-ui h3 {
        font-size: 13px;
        margin-top: 5px;
        margin-bottom: 5px;
    }
    
    /* Even smaller form elements */
    .form-control, 
    select,
    .dropdown-check-list .anchor,
    .year-select,
    .min-year-select, 
    .max-year-select {
        font-size: 10px !important;
        padding: 2px 5px !important;
        height: 28px !important;
        min-height: 28px !important;
    }
    
    /* Stack filter elements vertically instead of horizontally */
    .single-line-filter {
        flex-direction: column;
        align-items: flex-start;
        gap: 4px;
        min-height: auto;
        width: 100%;
    }
    
    /* Full width filters */
    .col-filter-label,
    .col-filter-combined,
    .col-filter-location,
    .col-filter-button {
        width: 100% !important;
        min-width: 100% !important;
        flex: 0 0 100% !important;
        margin: 0 0 4px 0 !important;
    }
    
    /* Special styles for label row - keep it inline */
    .col-filter-label {
        margin-bottom: 0 !important;
    }
    
    /* Smaller filter labels */
    .filter-label {
        font-size: 10px;
        padding: 0;
        height: 20px;
        line-height: 20px;
        display: block;
        text-align: left;
    }
    
    /* Specially style the VS tag to fit inline */
    .filter-label-vs {
        padding: 0;
        height: 20px;
        line-height: 20px;
        display: inline-block;
        margin: 0 3px;
    }
    
    /* Force For/Vs to be on same line */
    .filter-for-vs-container {
        display: flex;
        align-items: center;
        width: 100%;
    }
    
    /* Adjust form group spacing */
    .form-group.inline-form label {
        font-size: 10px;
        min-width: 40px;
        margin-right: 3px;
    }
    
    /* Season type selector for mobile */
    .season-type-select {
        font-size: 10px !important;
    }
    
    /* Use shorter text for Regular Season on mobile handled in JS */
    @media screen and (max-width: 480px) {
        /* No CSS needed - text replacement handled by JavaScript */
    }
    
    /* Optimize year groups and filter layouts */
    .year-select-row {
        gap: 2px;
        flex-wrap: nowrap !important;
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        white-space: nowrap;
        overflow: visible;
    }
    
    /* Make remove buttons more compact and move to end */
    .btn.btn-danger.remove-game-filter,
    .btn.btn-danger.remove-year-group {
        height: 24px !important;
        width: 24px !important;
        padding: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        min-width: 24px !important;
        margin: 0 !important;
    }
    
    /* Make the trash icon smaller on mobile */
    .trash-icon {
        width: 12px !important;
        height: 12px !important;
    }
    
    /* Style Remove buttons to stay within container */
    .remove-button-container {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin: 0 !important;
        padding: 0 !important;
        width: auto !important;
    }
    
    /* Make "To" text smaller */
    .year-to-text {
        font-size: 10px;
        margin: 0 1px;
        line-height: 28px;
    }
    
    /* Make year selects narrower */
    .year-select {
        width: 58px;
        min-width: 58px;
    }
    
    /* Make season type select narrower on mobile */
    .season-type-select {
        width: 90px !important;
        min-width: 90px !important;
    }
    
    /* Adjust season type group on mobile */
    .season-type-group {
        margin-left: 0 !important;
        flex: 0 0 auto;
        width: auto;
        margin-right: 2px !important;
    }
    
    /* Simplified trash icon container */
    .remove-button-container {
        margin: 0 !important;
        padding: 0 !important;
        display: flex;
        align-items: center;
    }
    
    /* More compact and full-width containers */
    .year-groups-container,
    .game-filters-container {
        padding: 5px;
        margin-bottom: 5px;
        width: 100%;
        box-sizing: border-box;
    }
    
    /* Action buttons at bottom */
    .form-actions {
        gap: 5px;
        margin-top: 8px;
        padding-top: 5px;
    }
    
    .form-actions .btn {
        height: 30px;
        font-size: 11px;
        padding: 0 8px;
    }
    
    /* Year group and game filter more compact */
    .year-group,
    .game-filter {
        margin-bottom: 2px;
        padding-bottom: 2px;
    }
    
    /* Further optimize year to text on mobile */
    .year-to-text {
        margin: 0;
        padding: 0;
        font-size: 9px;
    }
    
    /* Tighten up form groups in the year select row for mobile */
    .year-select-row .form-group {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* Ensure year selects and icon all stay on one line */
    @media screen and (max-width: 320px) {
        .year-select {
            width: 54px;
            min-width: 54px;
        }
        
        .season-type-select {
            width: 85px !important;
            min-width: 85px !important; 
        }
        
        .trash-icon {
            width: 10px !important;
            height: 10px !important;
        }
        
        .btn.btn-danger.remove-year-group {
            width: 20px !important;
            height: 20px !important;
            min-width: 20px !important;
        }
    }
    
    /* Top controls more stacked */
    .top-controls-row {
        flex-direction: column;
        gap: 5px;
        margin-bottom: 10px;
    }
    
    .plot-type-container,
    .time-container,
    .percent-container {
        width: 100%;
        min-width: 100%;
    }
}


/* Responsive adjustments for screens*/
@media only screen {
    .chart-container {
        height: 400px; /* Increased from 400px to 500px */
    }
    
    .chart-button {
        padding: 6px 12px;
        font-size: 13px;
    }
    
    .chart-buttons {
        bottom: 65px; /* Back to previous position */
        right: 70px; /* Right position for mobile */
        padding: 3px;
    }
    
    .chart-btn {
        width: 25px; /* Adjusted to be between original 22px and larger 28px */
        height: 25px; /* Adjusted to be between original 22px and larger 28px */
        padding: 2px;
    }
    
    .chart-icon {
        transform: scale(0.8); /* Adjusted to be between original 0.6075 and larger 0.9 */
    }
}

/* Add a new media query for larger screens to maintain a more square aspect ratio */
@media only screen {
    .chart-container {
        width: 90%;
        max-width: 900px; /* Limit the width on large screens for a more square shape */
    }
}
